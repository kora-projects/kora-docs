---
search:
  exclude: true
hide:
  - navigation
---

## 1.1.19

Добавлено:

* Добавлен обогащенный API разбора параметров HTTP-сервера с поддержкой `Set<T>`
* Добавлено больше конвертеров результата `Cassandra` по умолчанию
* Улучшена обработка ошибок `ClientClassGenerator` при несовпадении Пути/Параметров
* Добавлена инъекция контекста `ViolationExceptionHttpServerResponseMapper` перед выполнением

Исправлено:

* Исправлен кэш `Redis` для операции множественного получения ключей
* Исправлены `Cassandra` конвертеры результата для примитивных типов возврата
* Исправлено именование перечисления дискриминатора `OpenAPI`
* Исправлены значения свойств `Quartz` по умолчанию
* Исправлено разрешение пустых интерфейсов в качестве целей для целей `@ConfigValueExtractor`
* Исправлена обработка значений `null` для запечатанных интерфейсов при разборе `JSON`
* Исправлен `OpenAPI` параметр `typeMapping` для примитивных типов Java
* Исправлено обнаружение параметризованных общих классов в качестве конечных компонентов

### 1.1.18

Добавлено:

* Добавлен [Camunda Zeebe Worker](../documentation/camunda8-worker.md) **экспериментальный** модуль
* Добавлены транзакционные Kotlin `suspend` методы-расширения для базы данных
* Улучшены сгенерированные `OpenAPI` контракты моделей с дискриминаторами

Исправлено:

* Исправлен неиспользуемый параметр `Kafka` в HandlerWrapper
* Исправлен метод sendOffsetsToTransaction издателя транзакций `Kafka`
* Исправлена конфигурация планировщика `Quartz` по умолчанию для корректного поведения в кластере
* Исправлена работа с `Wrapped` компонентами в `JUnit` при Mock/Spy/Replace
* Исправлены незначительные обновления безопасности зависимостей

### 1.1.17

Добавлено:

* Добавлена метрика пакетной обработки Kafka потребителя и другие улучшения телеметрии
* Добавлен булевый тип в конфигурацию как родной тип

Исправлено:

* Исправлена обработка телеметрии клиента gRPC при отмене запроса
* Исправлена совместимость интерфейсов у общих компонент шаблона при построении графа
* Исправлено засыпание служебного HTTP-сервера при выключении
* Исправлено описание у `ResourceConfigOrigin` в конфигурации для улучшения сообщения об ошибках

### 1.1.16

Добавлено:

* Добавлены новые опции в [конфигурации HTTP-сервера](../documentation/http-server.md#_2)

Исправлено:

* Исправлена обработка типа `byte[]` в JDBC
* Исправлено ожидание правильного штатного завершения `JdkScheduler`
* Исправлена потенциальная ошибка NPE при регистрации задач Quartz
* Исправлено обновление заданий планировщика, вызывающее полное обновление планировщика
* Улучшено завершение работы Quartz планировщика
* Обновлены минорные версии зависимостей

### 1.1.15

Исправлено:

* Исправлено отсутствие трассировки HTTP-клиента
* Исправлена потенциальная коллизия метода конфигурации `QuartzModule` с планировщиком JDK
* Исправлено ожидание штатного завершения работы Jdk планировщика

### 1.1.14

Добавлено:

* Добавлено принудительное завершение работы при сбое штатного завершения для gRPC-сервера, Kafka потребителя, планировщика

Исправлено:

* Исправлено отсутствие экстрактора конфигурации для Quartz

### 1.1.13

Добавлено:

* Добавлен специальный тип [JsonNullable](../documentation/json.md#jsonnullable)
* Добавлен параметр конфигурации [KafkaConsumer](../documentation/kafka.md#_3), позволяющий обрабатывать пустые события после `poll()`
* Добавлена поддержка параметра OpenAPI [enableJsonNullable](../documentation/openapi-codegen.md#_6)
* Добавлен Camunda Rest [OpenAPI](../documentation/camunda7-rest.md#_2)
* Улучшена телеметрия [Camunda Rest](../documentation/camunda7-rest.md#_2)
* Улучшено штатное завершение работы HTTP-сервера, KafkaListener, gRPC-сервера, планировщиков

Исправлено:

* Исправлена ошибка параметра `additionalContractAnnotations` OpenAPI кодогенерации без включенной валидации
* Исправлена работа RebalanceListener для потребителя при конфигурации через топики
* Исправлена обработка исключений `HttpServerResponse` в блокирующих потоках
* Исправлены возможность добавлять не абстрактные методы в Kotlin Kafka продюсере

### 1.1.12

Добавлено:

* Добавлена опция OpenAPI для генерации авторизации HTTP-клиента в [качестве аргумента метода](../documentation/openapi-codegen.md#_3)
* Добавлен [параметр](../documentation/junit5.md#_3) `@KoraAppTest#modules`
* Добавлена возможность `@KoraApp` генерировать `@SubModule`, если это включено, для возможного расширения реального графа [в других средах](../documentation/junit5.md#_7)
* Добавлена трассировка и логирование в телеметрии `SOAP`

Исправлено:

* Исправлена обратная совместимость со старыми версиями представленной в `1.1.11` конфигурации телеметрии HTTP-клиента (актуально библиотекам с версией до `1.1.11`)
* Исправлена обработка отсутствующих тегов в метриках нескольких модулей
* Исправлена проверка Jdbc Kotlin `ResultSet.next()` для опциональных параметров
* Исправлено включение логирования определенных операций HTTP-клиента
* Исправлена трассировка отсутствующего кода состояния `ERROR` для нескольких модулей

### 1.1.11

Добавлено:

* Добавлено [маскирование логов HTTP-клиента/сервера](../documentation/http-server.md#_2)
* Добавлены обогащенные контракты метрик HTTP-клиента и сервера
* Добавлен параметр для указания собственных аннотаций над методами HTTP клиента/сервера в OpenAPI
* Добавлена дополнительная аннотация для создания преобразователей результатов [JDBC](../documentation/database-jdbc.md#_6)
* Добавлена поддержка виртуальных потоков в [повторителе и ограничителе времени](../documentation/resilient.md)

Исправлено:

* Исправлена утечка памяти метрик сервера/клиента `gRPC`
* Исправлена поддержка сложных дженерик типов для фабрик компонентов в `Java`
* Исправлено неправильное протоколирование ошибок в планировщике `Quartz`
* Исправлено сопоставление строк значений конфигурации для `Enum` типов
* Исправлено чтение `JSON` типов `Set` и `Map` на реализации `Linked` коллекций для сохранения порядка элементов
* Исправлена поддержка отсутствия попыток в конфигурации повторителя
* Исправлен `Content-Type` ответа HTTP-клиента когда ответ строка

### 1.1.10

Добавлено:

* Добавлен доступ к `TypeSpec.Builder` при создании аспектов для конечного пользователя
* Добавлена поддержка опции `additionalModelTypeAnnotations` для OpenAPI генератора
* Добавлена поддержка аннотации `@Deprecated` для сгенерированных OpenAPI методов HTTP-клиента
* Добавлена поддержка значений по умолчанию для Date-Time в случае `typeMapping` в генераторе OpenAPI
* Добавлены улучшенная конфигурация метрик Cassandra

Исправлено:

* Исправлены утечки байтовых буферов в Undertow
* Исправлена обязательность CodegenModel в OpenAPI при отсутствии валидации
* Исправлено логирование тела запроса в HTTP-клиенте при использовании `async-http-client`
* Исправлена обработка `null` типов ответов для Kotlin в Cassandra
* Исправлена проверка `null` аннотаций на стадии обработки аннотаций в Java
* Исправлен ответ примитивного типа в HTTP-сервере в Java
* Исправлена поддержка `LocalDate` в JDBC репозиториях для Kotlin

### 1.1.9

Добавлено:

* Добавлены [Camunda BPMN](../documentation/camunda7-bpmn.md) и [Camunda REST](../documentation/camunda7-rest.md) **экспериментальные** модули
* Добавлена поддержка [нескольких файлов OpenAPI](../documentation/openapi-management.md)
* Добавлена поддержка [ConsumerAwareRebalanceListener](../documentation/kafka.md#_9)
* Добавлены дополнительные методы создаваемые OpenAPI, без необязательных параметров для HTTP-клиента со значениями по умолчанию
* Добавлена поддержка Kafka потребителем [пользовательского тега](../documentation/kafka.md#_8)
* Добавлена поддержка дополнительных сигнатур [аспектами логгирования](../documentation/logging-aspect.md#_8)
* Включены по умолчанию метрики драйвера `Cassandra` (см конфигурацию)

Исправлено:

* Исправлен `GraphInterceptor` для компонентов с аспектами
* Исправлена конфигурация метрик `Cassandra`
* Исправлена обработка исключений аспектами логгирования
* Исправлена потенциальная коллизия имен JSON
* Исправлено отсутствие в `KSP` конструктора внешнего писателя из библиотек
* Исправлено присутствие телеметрии для пустых записей в `Kafka` потребителе
* Исправлена фиксация событий при обработке один за другим в `@KafkaListener`
* Исправлено сообщение об ошибке в случае не правильного использования `@Batch` запросов
* Исправлено отсутствие `@Nullable` аннотации при формировании `@KoraSubmodule`
* Исправлено отсутствие HTTP-сервера `Content-Type` в исключениях с телом
* Исправлены нестрочные значения по умолчанию в схемах OpenAPI

### 1.1.8

Добавлено:

* Добавлен модуль [S3 Client](../documentation/s3-client.md) **экспериментальный**
* Добавлен модуль [Liquibase](../documentation/database-migration.md#liquibase)
* Добавлена опция конфигурации для указания файлов миграции в модуль [Flyway](../documentation/database-migration.md#flyway)
* Добавлен [Тип размера](../documentation/config.md#_19)
* Добавлена опция конфигурации [Размера сообщения сервера gRPC](../documentation/grpc-server.md#_3)
* Добавлен дополнительный Javadoc

Исправлено:

* Исправлено логгирование тела в HttpClientTelemetry, которое не читалось до конца
* Исправлен порядок выполнения перехватчика gRPC
* Исправлена фиксация записи Kafka Consumer только после пакетной обработки
* Исправлена длительность смещения KafkaAssignConsumerContainer
* Исправлено смешивание кодегена Openapi, ссылающегося на поля oneOf в корневом типе

### 1.1.7

Добавлено:

* Добавлено распространение `@Tag` для `@Repository`
* Добавлена до настройка [OkHttp](../documentation/http-client.md#okhttp)

Исправлено:

* Исправлены JsonReader/JsonWriter для полей с символом `$`
* Исправлено требование `ReactorContextKt` для `CoroutineContextInjectInterceptor`
* Исправлен NPE в метриках GrpcServer
* Исправлена валидация аргументов метода через `@Pattern` в Kotlin
* Исправлена установка `Content-Type` для [Response Entity](../documentation/http-server.md#_16)
* Исправлена коллизия псевдонимов в Kotlin для классов с одинаковыми именами
* Удалена зависимость Prometheus JMX

### 1.1.6

Исправлено:

- Исправлены ошибки Netty и gRPC [зависимостей](https://github.com/grpc/grpc-java/issues/11284)

### 1.1.5

Добавлено:

- Улучшено сообщение об ошибке HTTP Client header required в OpenAPI Generator

Исправлено:

- Исправлена `CompletionFuture` сигнатура Cassandra репозиториев
- Исправлено определение обязательности полей/колонок с использованием любой аннотации `@Nullable` для сущностей базы данных

### 1.1.4

Добавлено:

- Добавлена поддержка `@Nullable` параметров конструктора Record у баз данных
- Добавлен выбор [транспорта Netty](../documentation/netty.md)
- Добавлена возможность [отключение/включение](../documentation/config.md#_16) наблюдателя за конфигураций
- Оптимизирована авторизация у генератора OpenAPI HTTP сервера

Исправлено:

- Исправлена доступность фабрики ByteBufferPool для служебного модуля HTTP-сервера
- Исправлено требование `@NonNull` для сигнатур CompletionStage в базах данных
- Исправлена обработка потенциальных ошибок служебного HTTP-сервера
- Исправлена потенциальная коллизии имен у перехватчиков авторизации в OpenAPI
- Исправлены зависимости Netty transport у Async HTTP Client
- Исправлена обработка трассировки баз данных
- Исправлены шаблонизированные компоненты, которые должны работать с `@Component`
- Исправлены предупреждения Gradle при сборке

### 1.1.3

Исправлено:

- Исправлено предотвращения утечек памяти посредствам замены байтового буфера Undertow на наш собственный
- Исправлена поддержка типа `URI` в OpenAPI
- Исправлена поддержка асинхронных сигнатур в JDBC (требуется предоставить `Executor`)
- Исправлена аутентификация по Cookie в генерации OpenAPI севера
- Обновлены зависимости с версиями с исправлениями
- Помечен тегами исполнитель Undertow Xnio

### 1.1.2

Исправлено:

- Исправлено `@Retry` для сигнатуры CompletableFuture
- Исправлена обработка ошибок Cache AOP
- Исправлена работа свойства [primaryAuth](../documentation/openapi-codegen.md#_3) генератора OpenAPI
- Исправлена телеметрия HttpClient, передающая Content-Length базовому клиенту
- Исправлена поддержка `Wrapped` в расширении JUnit5 тестировании

### 1.1.1

Исправлено:

- Исправлен результат Void для методов `@HttpClient` с мапперами по коду
- Исправлен `@Cacheable` аспект для реактивного контракта
- Исправлена обработка HTTP Content-Length в реализациях
- Исправлен Kotlin Nullable enum в OpenAPI
- Исправлено отсутствие `equals & hashCode` в пустых классах Kotlin в OpenAPI
- Исправлена ошибка GraalVM ReactorContextHook#init() во время выполнения

## 1.1.0

Добавлено:

- Добавлена поддержка метрик OpenTelemetry нового стандарта [1.23](../documentation/metrics.md#_5)
- Добавлена поддержка GraalVM для большинства модулей и поддержка виртуальных потоков в GraalVM
- Обновлены и синхронизированы зависимости всех модулей
- Добавлено улучшенное сообщение при сборке компонент
- Стандартизированы сообщения компонент жизненного цикла

Исправлено:

- Исправлена некорректная сигнатура `HttpBody.contentLength` (`int` -> `long`)
- Исправлено поведение `@ResponseCodeMapper` когда определен только код
- Исправлено отсутствие метрик драйвера Cassandra
- Исправлена ошибка при записи в закрытое соединение Undertow игнорировавшее телеметрию
- Исправлено падение процессора аннотаций AOP без зависимостей Kora во время компиляции
- Исправлены незначительные ошибки в модуле отказоустойчивости
- Исправлено отсутствие аннотаций `@Generated`
- Исправлена ошибка ненужного обновление графа зависимостей

### 1.0.9

Добавлено:

- Добавлена поддержка [gRPC Server Reflection](https://github.com/grpc/grpc/blob/master/doc/server-reflection.md)

Исправлено:

- Исправлено отсутствие аннотаций `@Generated` (влияло на отчеты JaCoCo)

### 1.0.8

Добавлено:

- Добавлен тег ошибок метрики баз данных
- Добавлены метрики драйвера Cassandra
- Добавлен контракт для [повторителя](../documentation/resilient.md#_7) для `CompletableStage` и оптимизирован аспект для `CompletableStage`

Исправлено:

- Исправлена поддержка OpenAPI Generation кодогенерации для Java 21
- Исправлены недостающие вызовы `Span.recordException` в телеметрии
- Исправлена телеметрия HTTP-клиента с одно пакетными ответами в качестве `InputStream`

### 1.0.7

Добавлено:

- Поддержка `@Nested` тестов
- Поддержка сигнатуры `CompletionStage<Optional<T>>` для кеша AOP
- Поддержка освобождения Graph `AutoClosable` на стадии `release`
- Улучшено логирование процессора аннотаций Java

Исправлено:

- Исправлено генерирование OpenAPI не Json `Content-Type` преобразователей
- Исправлена опция OpenAPI для `java-async-server` & `java-reactive-server`
- Исправлена ошибка Undertow `exchange already complete`
- Исправлена ошибка кеша Redis AOP для контрактов `Mono`

### 1.0.6

Исправлено:

- Исправлена поддержка метрик HTTP сервера/клиента по старым стандартам OpenTelemetry

### 1.0.5

Добавлено:

- Поддержка улучшена для всех конфигураций [HTTP](../documentation/http-client.md) клиентов
- Поддержка метки партиции в метрике `messaging.kafka.consumer.lag` для KafkaProducer
- Поддержка метрик и телеметрии HTTP сервера/клиента приведена к новым стандартам OpenTelemetry
- Поддержка перехватчиков для HTTP сервера/клиента в [OpenAPI генераторе](../documentation/openapi-codegen.md) с помощью опции `interceptors`
- Поддержка типа `short` для баз данных

Исправлено:

- Исправлена поддержка байтовых контрактов в HTTP сервере при создании через [OpenAPI генераторе](../documentation/openapi-codegen.md)

### 1.0.4

Добавлено:

- Поддержка реализации [OkHttp](../documentation/http-client.md#okhttp) клиента HTTP

Исправлено:

- Исправлена ошибка обработки нескольких ссылочных значений в рамках одного значения в файле конфигурации
- Исправлено NPE в Kafka продюсере
- Исправлен экспортер трассировки OpenTelemetry по gRPC

### 1.0.3

Добавлено:

- Поддержка метрик Kafka совместимыми с семантическими соглашениями OpenTelemetry
- Поддержка экспортера трассировки OpenTelemetry через [HTTP](../documentation/tracing.md)
- Поддержка сигнатуры `CompletionStage` для возврата в Kafka Publisher
- Поддержка необязательных параметров в каноническом конструкторе для моделей Kotlin, сгенерированных OpenAPI
- Поддержка значений даты и времени в конфигурации
- Поддержка аннотаций псевдонимов типов (`Type Alias`) в Kotlin

Исправлено:

- Исправлена ошибка захвата `CircuitBreaker` в полу открытом состоянии (`HalfOpen`) 
- Исправлено переопределение диспетчера при вызове gRPC сервера
- Исправлено сохранение аннотаций аспектов для всех классов созданных фреймворком

### 1.0.2

Добавлено:

- Поддержка `HttpServerRequest` как параметра в сгенерированных OpenAPI контрактах
- Поддержка необязательных заголовков в ответе в сгенерированных OpenAPI контрактах

Исправлено:

- Исправлена обработка повторяемых Cache аннотаций в Kotlin
- Исправлены обработка Type Alias аннотации в Kotlin
- Исправлены отсутствующие аннотации `@Root` в `@KoraSubmodule`

### 1.0.1

Добавлено:

- Поддержка HTTP клиентом параметров `@Query` и `@Header` типа `Map` и `HttpHeaders`
- Поддержка планировщиком `Quartz.properties` по умолчанию
- Поддержка планировщиком JDK значения кол-ва потоков в конфигурации по умолчанию
 
Исправлено:

- Исправлена обработка перехватчиками исключения `405` от HTTP сервера
- Исправлена обработка перехватчиком исключения при отсутствии HTTP-параметров в HTTP сервере
- Исправлена обработка исключений в иерархии перехватчиков HTTP сервера
- Исправлены недостающие аннотации `@Generated`
- Исправлены отсутствующие аннотации `@Nullable` в `@KoraSubmodule`
- Исправлена обработка примитивных возвращаемых значений методов у аспекта логирования

# 1.0.0

Первая полностью стабилизированная версия с зафиксированным API.
